---
title: "Was liest und schreibt man Ã¼ber Inklusion?"
subtitle: "Web-Scraping und Text-Mining mit R am Beispiel einer Online-Nachrichten- und Diskussionsseite fÃ¼r LehrkrÃ¤fte"
author: "Pawel R. Kulawiak"
date: last-modified
abstract: "Preprint in Progress"
abstract-title: "Status"
lang: de
bibliography: references.bib
theme: sandstone
toc: true
title-block-banner: true
language: 
  title-block-author-single: "Autor"
  title-block-published: "Datum der der letzten VerÃ¤nderung"
format:
  html:
    embed-resources: false
    output-file: "index"
  pdf:
    geometry:
      - top=30mm
      - left=30mm
      - right=30mm
      - bottom=30mm
      - heightrounded
    fig-pos: H
---

```{r}
#| echo: false
#| include: false
library(tidyverse)
library(rvest)
library(flextable)
```

# Einleitung

Mein wertgeschÃ¤tzter Kollege Timo LÃ¼ke (<https://timolueke.de/>) hat einst im Rahmen einer Medieninhaltsanalyse deutschsprachiger Printmedien [@lÃ¼ke2014] folgende Forschungsfragen aufgeworfen:

-   Welches VerstÃ¤ndnis von Inklusion wird in den deutschen meinungsfÃ¼hrenden Medien kommuniziert?
-   Welche Argumente fÃ¼r und gegen die Umsetzung von Inklusion werden genannt?
-   Welche Fallbeispiele werden als Belege angefÃ¼hrt?

> "Im Rahmen einer systematischen Inhaltsanalyse (RÃ¶ssler, 2010) deutscher Printmedien untersuchen wir die Ã¶ffentliche Berichterstattung zum Thema â€Inklusion". Dabei wollen wir verbreitete Definitionen, Argumente und Fallbeispiele systematisch erfassen. So sollen langfristig die Analyse des medialen Diskurses und in der Folge eine Versachlichung der kontroversen Debatte Ã¼ber Inklusion ermÃ¶glicht werden." [@lÃ¼ke2014]

Erste Ergebnisse der Medieninhaltsanalyse sind in Form einer PosterprÃ¤sentation verfÃ¼gbar [@lÃ¼ke2014] und ich erlaube mir die Darstellung des interessanten Posters (@fig-poster).

::: column-body-outset
![PosterprÃ¤sentation von @lÃ¼ke2014: Was liest man Ã¼ber Inklusion?](images/poster.png){#fig-poster fig-alt="PosterprÃ¤sentation von @lÃ¼ke2014: Was liest man Ã¼ber Inklusion?"}
:::

# Ziele

## Allgemeine Zielsetzung

Ich mÃ¶chte die Medieninhaltsanalyse von @lÃ¼ke2014 replizieren sowie erweitern und mich dabei auf die Textinhalte einer Online-Nachrichten- und Diskussionsseite fÃ¼r LehrkrÃ¤fte fokussieren, nÃ¤mlich News4teachers [@N4T_2022].

## Zielsetzung mit R

Ich mÃ¶chte exemplarisch aufzeigen, wie die einzelnen Projektphasen der Medieninhaltsanalyse mit der Programmiersprache R umgesetzt werden kÃ¶nnen. HierfÃ¼r werden wir uns auf zwei wichtige Arbeitsschritte fokussieren:

-   **Web-Scraping**, also eine automatisierte Methode zum Extrahieren der Textinformationen von der Webseite News4teachers.

-   **Text-Mining**: Die mittels Web-Scraping gesammelten Textdaten sollen mit Methoden des Text-Minings analysiert werden. Methoden des Text-Minings fokussieren sich auf die Extraktion von nÃ¼tzlichen Informationen aus unstrukturierten Textdaten. Unstrukturierte Textdaten sind Texte, die nicht in einer festen Datenbankstruktur vorliegen, also z.B. Textinhalte von Websiten. Mit Methoden des Text-Minings kann auch der der sentimentale Ton oder die subjektive Meinung in einem Textdokument ermittelt werden. Das Hauptziel der sogenannten Sentimentanalyse besteht darin, die in einem Textdokument geÃ¤uÃŸerten Emotionen und Ansichten bezÃ¼glich eines bestimmten Themas zu identifizieren, in unserem Fall also z.B. geÃ¤uÃŸerte Meinungen zum Thema Inklusion.

# News4teachers: Online-Nachrichten- und Diskussionsseite fÃ¼r LehrkrÃ¤fte

Betrachten wir zunÃ¤chst das Arbeitsmaterial, also die Webinhalte der Webseite News4teachers, und die entsprechende Selbstbeschreibung der Webseite [@N4T_2022]:

> "**Wer steckt hinter News4teachers?**
>
> News4teachers wird von einer Redaktion aus Lehrern und Journalisten betrieben. Die Seite ist ein gemeinsames Projekt von [4teachers](http://www.4teachers.de/), der Service-Plattform von Lehrern fÃ¼r Lehrer, sowie [der Agentur fÃ¼r Bildungsjournalismus](http://www.xn--agentur-fr-bildungsjournalismus-wid.de/).
>
> **Was ist News4teachers?**
>
> News4teachers ist eine Nachrichten- und Diskussionsseite, die sich mit seriÃ¶sen Berichten, Analysen und Kommentaren an pÃ¤dagogische Profis und die an Bildungsthemen interessierte Ã–ffentlichkeit richtet. Die Redaktion sichtet tÃ¤glich die Meldungen aus Politik, Forschung und Gesellschaft. Auf die Seite gelangt alles, wasÂ fÃ¼r dieÂ BildungÂ wichtigÂ ist. News4teachersÂ bietetÂ also einen aktuellen Ãœberblick Ã¼ber die relevanten Informationen fÃ¼r Lehrer, Erzieher, SchÃ¼ler und Eltern. Und zwar: unabhÃ¤ngig und Ã¼berparteilich.
>
> **Was ist die Idee hinter News4teachers?**
>
> News4teachers fÃ¼hlt sich dem klassischen Journalismus verpflichtet. Das heiÃŸt konkret: Wir unterwerfen uns den publizistischen GrundsÃ¤tzen des Deutschen Presserats, dem [Pressekodex](https://www.presserat.de/pressekodex/pressekodex/). Informationen, die auf die Seite gelangen,Â wurden zuvorÂ von der Redaktion mitÂ der gebotenen Sorgfalt geprÃ¼ft. Quellen werden stetsÂ genannt, Meinung und Bericht voneinander getrennt. News4teachers unterliegt zudem einer Chronistenpflicht: Alles, was fÃ¼r die Bildungsdebatte in Deutschland von Bedeutung ist, wird aktuellÂ berichtet. RegelmÃ¤ÃŸige Nutzer von News4teachers sind also immer im Bild." [@N4T_2022]

```{r}
#| echo: false
#| include: false
options(scipen=999)
BESUCHER <- 55000
LK <- 975000
```

## Inhalte von News4teachers und potenzielle Leserschaft aus LehrkrÃ¤ften

News4teachers verspricht eine unabhÃ¤ngige und Ã¼berparteiliche Berichterstattung zu Bildungsthemen, wahrscheinlich auch zum Thema Inklusion. Die Inhalte sind fÃ¼r die Leserschaft kostenfrei (werbefinanziertes Angebot). Die Inhalte von News4teachers sind auÃŸerdem speziell auf LehrkrÃ¤fte ausgerichtet. Somit kann angenommen werden, dass ein groÃŸer Teil der Leserschaft aus LehrkrÃ¤ften besteht. Die Internetseite News4teachers hatte folgende Besucherzahlen (Jahr 2023): Mai (54000 Personen), Juni (60000 Personen) und Juli und August jeweils 55000 Personen (Zahlen ermittelt mit: <https://neilpatel.com/website-traffic-checker/>). Nehmen wir an, dass die Leserschaft von News4teachers zu 75% aus LehrkrÃ¤ften aus Deutschland bestÃ¼nde, dann hÃ¤tten wir bei einer monatlichen Besucherzahl von `r BESUCHER` Personen eine monatliche Leserschaft von ca. `r BESUCHER * 0.75` LehrkrÃ¤ften (`r BESUCHER` \* 0,75 = `r BESUCHER * 0.75`). In Deutschland gibt es aber laut Mikrozensus 2022 rund `r LK` LehrkrÃ¤fte an allgemeinbildenden Schulen. Die potenzielle News4teachers-Leserschaft aus LehrkrÃ¤ften (`r BESUCHER * 0.75` Personen) entsprÃ¤che dann einem Anteil von ca. `r (BESUCHER/LK*100) |> round(2)`% aller LehrkrÃ¤fte an allgemeinbildenden Schulen (`r BESUCHER` / `r LK` \* 100 = `r (BESUCHER/LK*100) |> round(2)`%). Im dargestellten Szenario wÃ¼rden die Inhalte von News4teachers also pro Monat ca. `r (BESUCHER/LK*100) |> round(2)`% der LehrkrÃ¤fte an allgemeinbildenden Schulen in Deutschland erreichen (5 von 100 LehrkrÃ¤ften lesen News4teachers). Dies sind aber nur vage Vermutungen zur Reichweite von News4teachers unter LehrkrÃ¤ften an allgemeinbildenden Schulen in Deutschland, unter der Annahme, dass 75% der Leserschaft von News4teachers aus LehrkrÃ¤ften bestÃ¼nde.

News4teachers bieten der Leserschaft die MÃ¶glichkeit die Inhalte zu kommentieren und zu diskutieren (@fig-beitrag und @fig-struktur3). HierfÃ¼r formuliert die Redaktion spezifische Richtlinien [@N4T_2022]:

> "**Gibt's Regeln fÃ¼r die Leserzuschriften in den Foren?**
>
> GrundsÃ¤tzlich gilt: Niemand hat einen Anspruch darauf, in den Foren zu den einzelnen Artikeln eine eigene Wortmeldung zu verÃ¶ffentlichen. Die Redaktion legt Wert darauf, nur Leserzuschriften zu verÃ¶ffentlichen, die erkennbar darauf abzielen, einen inhaltlichen Beitrag zur Diskussion des darÃ¼berstehenden Artikels zu leisten. Das bedeutet konkret: Auch fÃ¼r Leserzuschriften gelten die publizistischen GrundsÃ¤tze des Deutschen Presserats, gilt also [der Pressekodex](https://www.presserat.de/pressekodex/pressekodex/).
>
> Kurzgefasst:
>
> -   Wir verÃ¶ffentlichen keine LeserbeitrÃ¤ge, in denen ungeprÃ¼fte, unbelegte oder falsche Tatsachenbehauptungen verbreitet werden.
> -   Wir verÃ¶ffentlichen keine Hetze gegen Menschen oder Menschengruppen.
> -   Wir verÃ¶ffentlichen keine Werbung, ob nun fÃ¼r Produkte oder Parteien.
> -   Und wir verÃ¶ffentlichen keine Links auf unseriÃ¶se Quellen.
>
> Wir behalten uns darÃ¼ber hinaus vor, Leserbriefe, die lediglich der Stimmungsmache dienen, zu lÃ¶schen. Oder Leserbriefe sinnwahrend zu kÃ¼rzen." [@N4T_2022]

\[Hier weitere ErlÃ¤uterungen einfÃ¼gen\]

![Beitrag zum Thema Inklusion mit 152 Leserkommentaren auf der Internetseite News4teachers (Quelle: <https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/>)](images/beitrag.png){#fig-beitrag fig-alt="Inhalt zum Thema Inklusion mit 152 Leserkommentaren auf der Internetseite News4teachers"}

# Explorative Forschungsfragen

Die Inhalte von News4teachers und die Kommentare und Diskussionen der Leserschaft eignen sich eventuell zur Beantwortung folgender Forschungsfragen:

-   Auf welche Art und Weise wird das Thema Inklusion auf der Online-Nachrichten- und Diskussionsseite fÃ¼r LehrkrÃ¤fte dargestellt?
-   Auf welche Art und Weise werden die Inhalte zum Thema Inklusion von der Leserschaft kommentiert und diskutiert?

# Web-Scraping

## Struktur und Inhalte der Website

Ziel des Web-Scapings wird es sein, die relevanten Webinhalte von News4teachers automatisiert zu extrahieren. HierfÃ¼r mÃ¼ssen wir uns erstmal einen Ãœberblick Ã¼ber die Struktur und Inhalte der Website verschaffen. Die BeitrÃ¤ge auf den Internetseiten von News4teachers haben eine spezifische Struktur mit spezifischen Webinhalten. FÃ¼r unsere Forschungsfragen mehr oder weniger interessante Webinhalte sind in den Abbildungen kenntlich gemacht (@fig-struktur1, @fig-struktur2 und @fig-struktur3).

![(a) Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte (Quelle: <https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/>)](images/struktur1.png){#fig-struktur1 fig-alt="Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte"}

![(b) Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte (Quelle: <https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/>)](images/struktur2.png){#fig-struktur2 fig-alt="Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte"}

![(c) Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte (Quelle: <https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/>)](images/struktur3.png){#fig-struktur3 fig-alt="Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte"}

\[ErlÃ¤uterungen zu den Abbildungen und Inhalten hinzufÃ¼gen\]

## Erster Web-Scraping-Versuch

FÃ¼r das Web-Scraping nutzen wir das R-Zusatzpaket *rvest*. Der Name des R-Zusatzpaketes ist eine gelungene Anspielung auf das englische Wort *harvest* (ernten, sammeln), denn wir wollen ja Informationen aus dem Internet sammeln (mit R). Das kreative Wortspiel ist auch im Logo des R-Zusatzpaketes visualisiert. Wir mÃ¼ssen das R-Zusatzpaket installieren und laden.

```{r}
#| eval: false
install.packages("rvest")
library(rvest)
```

![Logo des R-Zusatzpaketes *rvest*](images/logo.png){fig-alt="Logo des R-Zusatzpaketes rvest"}

FÃ¼r den ersten Web-Scraping-Versuch nutzen wir den Beitrag mit dem Titel *"â€SchÃ¤mt Euch!" -- Deutschland steht vor den Vereinten Nationen am Pranger, weil es die Inklusion an Schulen praktisch verweigert"* (@fig-struktur1). Dies ist der Link zum Beitrag:

<https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/>

Wir nutzen den Befehl `read_html()` und den entsprechenden Link, um sÃ¤mtliche Informationen von der Website zu extrahieren.

```{r}
html <- read_html("https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/")
```

Alle Webinhalte sind nun im Objekt `html` hinterlegt. Wir sind allerdings nur an spezifischen Webinhalten interessiert und mÃ¶chten daher im nÃ¤chsten Schritt einen spezifischen Textinhalt aus dem Objekt `html` auslesen. Beginnen wir mit einem Textinhalt, welcher sich relativ leicht extrahieren lÃ¤sst. Wir wollen den Titel des Beitrages extrahieren: *"â€SchÃ¤mt Euch!" -- Deutschland steht vor den Vereinten Nationen am Pranger, weil es die Inklusion an Schulen praktisch verweigert"*. Dabei ist es gar nicht so leicht, einen spezifischen Inhalt wie den Titel zu lokalisieren und auszulesen. HierfÃ¼r ist HTML- und CSS-Grundlagenwissen hilfreich (<https://www.w3schools.com/html/>, <https://www.w3schools.com/css/>). Die eigentlichen Textinhalte sind nÃ¤mlich im HTML-Dokument der Webseite hinterlegt. Ist eine Internetseite im Browser geÃ¶ffnet, so gelangen wir mit einem Rechtsklick i.d.R. zur Option *"Seitenquelltext anzeigen"* (@fig-quelltext). Dies fÃ¼hrt uns zum HTML-Dokument (@fig-html1).

![Seitenquelltext (HTML) anzeigen](images/quelltext.png){#fig-quelltext fig-alt="Seitenquelltext (HTML) anzeigen"}

![HTML-Dokument (Ausschnitt)](images/html1.png){#fig-html1 fig-alt="HTML-Dokument (Ausschnitt)"}

Das HTML-Dokument (@fig-html1) ist riesig (mehr als 10000 Zeilen) und wir mÃ¼ssen etwas stÃ¶bern, um den passenden Inhalt zu lokalisieren. Wir sehen z.B. in der Zeile 1297, dass der Titel des Beitrages ein `h1`-HTML-Element ist (header 1: Ãœberschrift erster Ebene). Diese Information benÃ¶tigen wir, um den Titel des Beitrags gezielt auszulesen. HierfÃ¼r nutzen wir den Befehl `html_elements("h1")` und Ã¼bergeben das Objekt `html` an diesen Befehl.

```{r}
html |> html_elements("h1")
```

Herzlichen GlÃ¼ckwunsch! ğŸ¥³ Somit haben wir erfolgreich alle Informationen von der Website extrahiert und eine relevante Textstelle (den Titel) ausgelesen.

### Datenstruktur

In @fig-html1 sehen wir, dass anscheinend jeder Beitrag Ã¼ber eine ID verfÃ¼gt (`id="post-132285"`). Wenn wir in unserem zukÃ¼nftigen Datensatz mehrere BeitrÃ¤ge abspeichern wollen, dann wird eine ID-Variable zwecks Unterscheidung der BeitrÃ¤ge eine hilfreiche Sache sein. @tbl-idee ist eine erste Idee bezÃ¼glich einer mÃ¶glichen/sinnvollen Datenstruktur.

```{r}
#| echo: false
#| label: tbl-idee
#| tbl-cap: Erste Idee bezÃ¼glich einer mÃ¶glichen/sinnvollen Datenstruktur
id <- c(132285, "...", "...")
datum <- c("29. August 2023", "...", "...")
titel <- c("'SchÃ¤mt Euch!' -- Deutschland steht vor\nden Vereinten Nationen am Pranger...", "...", "...")
usw. <- c("...", "...", "...")

data.frame(id, datum, titel, usw.) |>
  flextable() |>
  autofit() |>
  bold(part = "header")
```

Um die Datenstruktur aus @tbl-idee zu realisieren, mÃ¼ssen wir nun die ID des Beitrags und das Erscheinungsdatum auslesen. Beginnen wir mit der ID. In Abbildung X sehen wir, das die ID (`id="post-132285"`) ein Attribut eines HTML-Elements ist (HTML-Element: `article`). Daher Ã¼bergeben wir das Objekt `html` zunÃ¤chst an den Befehl `html_elements("article")` und dann an den Befehl `html_attr("id")` zwecks Auslesung der ID.

```{r}
html |>
  html_elements("article") |>
  html_attr("id")
```

Die ID des Beitrags erscheint mit dem PrÃ¤fix `post-`. Das PrÃ¤fix entfernen wir mit dem Befehl `str_remove("post-")` 

```{r}
html |>
  html_elements("article") |>
  html_attr("id") |>
  str_remove("post-") |>
  as.numeric()
```

# Literatur
