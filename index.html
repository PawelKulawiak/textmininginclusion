<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Pawel R. Kulawiak">

<title>Was liest und schreibt man über Inklusion?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="text_mining_files/libs/clipboard/clipboard.min.js"></script>
<script src="text_mining_files/libs/quarto-html/quarto.js"></script>
<script src="text_mining_files/libs/quarto-html/popper.min.js"></script>
<script src="text_mining_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="text_mining_files/libs/quarto-html/anchor.min.js"></script>
<link href="text_mining_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="text_mining_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="text_mining_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="text_mining_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="text_mining_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="text_mining_files/libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="text_mining_files/libs/tabwid-1.1.3/tabwid.js"></script>


</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Was liest und schreibt man über Inklusion?</h1>
            <p class="subtitle lead">Web-Scraping und Text-Mining mit R am Beispiel einer Online-Nachrichten- und Diskussionsseite für Lehrkräfte</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor</div>
      <div class="quarto-title-meta-contents">
               <p>Pawel R. Kulawiak </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Datum der der letzten Veränderung</div>
      <div class="quarto-title-meta-contents">
        <p class="date">13. September 2023</p>
      </div>
    </div>
    
      
    </div>
    
  <div>
    <div class="abstract">
      <div class="abstract-title">Status</div>
      Preprint in Progress
    </div>
  </div>
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#einleitung" id="toc-einleitung" class="nav-link active" data-scroll-target="#einleitung">Einleitung</a></li>
  <li><a href="#ziele" id="toc-ziele" class="nav-link" data-scroll-target="#ziele">Ziele</a>
  <ul class="collapse">
  <li><a href="#allgemeine-zielsetzung" id="toc-allgemeine-zielsetzung" class="nav-link" data-scroll-target="#allgemeine-zielsetzung">Allgemeine Zielsetzung</a></li>
  <li><a href="#zielsetzung-mit-r" id="toc-zielsetzung-mit-r" class="nav-link" data-scroll-target="#zielsetzung-mit-r">Zielsetzung mit R</a></li>
  </ul></li>
  <li><a href="#news4teachers-online-nachrichten--und-diskussionsseite-für-lehrkräfte" id="toc-news4teachers-online-nachrichten--und-diskussionsseite-für-lehrkräfte" class="nav-link" data-scroll-target="#news4teachers-online-nachrichten--und-diskussionsseite-für-lehrkräfte">News4teachers: Online-Nachrichten- und Diskussionsseite für Lehrkräfte</a>
  <ul class="collapse">
  <li><a href="#inhalte-von-news4teachers-und-potenzielle-leserschaft-aus-lehrkräften" id="toc-inhalte-von-news4teachers-und-potenzielle-leserschaft-aus-lehrkräften" class="nav-link" data-scroll-target="#inhalte-von-news4teachers-und-potenzielle-leserschaft-aus-lehrkräften">Inhalte von News4teachers und potenzielle Leserschaft aus Lehrkräften</a></li>
  </ul></li>
  <li><a href="#explorative-forschungsfragen" id="toc-explorative-forschungsfragen" class="nav-link" data-scroll-target="#explorative-forschungsfragen">Explorative Forschungsfragen</a></li>
  <li><a href="#web-scraping" id="toc-web-scraping" class="nav-link" data-scroll-target="#web-scraping">Web-Scraping</a>
  <ul class="collapse">
  <li><a href="#struktur-und-inhalte-der-website" id="toc-struktur-und-inhalte-der-website" class="nav-link" data-scroll-target="#struktur-und-inhalte-der-website">Struktur und Inhalte der Website</a></li>
  <li><a href="#erster-web-scraping-versuch" id="toc-erster-web-scraping-versuch" class="nav-link" data-scroll-target="#erster-web-scraping-versuch">Erster Web-Scraping-Versuch</a>
  <ul class="collapse">
  <li><a href="#datenstruktur" id="toc-datenstruktur" class="nav-link" data-scroll-target="#datenstruktur">Datenstruktur</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#literatur" id="toc-literatur" class="nav-link" data-scroll-target="#literatur">Literatur</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Andere Formate</h2><ul><li><a href="text_mining.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">




<section id="einleitung" class="level1 page-columns page-full">
<h1>Einleitung</h1>
<p>Mein wertgeschätzter Kollege Timo Lüke (<a href="https://timolueke.de/" class="uri">https://timolueke.de/</a>) hat einst im Rahmen einer Medieninhaltsanalyse deutschsprachiger Printmedien <span class="citation" data-cites="lüke2014">(<a href="#ref-lüke2014" role="doc-biblioref">Lüke u.&nbsp;a. 2014</a>)</span> folgende Forschungsfragen aufgeworfen:</p>
<ul>
<li>Welches Verständnis von Inklusion wird in den deutschen meinungsführenden Medien kommuniziert?</li>
<li>Welche Argumente für und gegen die Umsetzung von Inklusion werden genannt?</li>
<li>Welche Fallbeispiele werden als Belege angeführt?</li>
</ul>
<blockquote class="blockquote">
<p>“Im Rahmen einer systematischen Inhaltsanalyse (Rössler, 2010) deutscher Printmedien untersuchen wir die öffentliche Berichterstattung zum Thema „Inklusion”. Dabei wollen wir verbreitete Definitionen, Argumente und Fallbeispiele systematisch erfassen. So sollen langfristig die Analyse des medialen Diskurses und in der Folge eine Versachlichung der kontroversen Debatte über Inklusion ermöglicht werden.” <span class="citation" data-cites="lüke2014">(<a href="#ref-lüke2014" role="doc-biblioref">Lüke u.&nbsp;a. 2014</a>)</span></p>
</blockquote>
<p>Erste Ergebnisse der Medieninhaltsanalyse sind in Form einer Posterpräsentation verfügbar <span class="citation" data-cites="lüke2014">(<a href="#ref-lüke2014" role="doc-biblioref">Lüke u.&nbsp;a. 2014</a>)</span> und ich erlaube mir die Darstellung des interessanten Posters (<a href="#fig-poster">Abbildung&nbsp;1</a>).</p>
<div class="column-body-outset">
<div id="fig-poster" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/poster.png" class="img-fluid figure-img" alt="Posterpräsentation von @lüke2014: Was liest man über Inklusion?"></p>
<figcaption class="figure-caption">Abbildung&nbsp;1: Posterpräsentation von <span class="citation" data-cites="lüke2014">Lüke u.&nbsp;a. (<a href="#ref-lüke2014" role="doc-biblioref">2014</a>)</span>: Was liest man über Inklusion?</figcaption>
</figure>
</div>
</div>
</section>
<section id="ziele" class="level1">
<h1>Ziele</h1>
<section id="allgemeine-zielsetzung" class="level2">
<h2 class="anchored" data-anchor-id="allgemeine-zielsetzung">Allgemeine Zielsetzung</h2>
<p>Ich möchte die Medieninhaltsanalyse von <span class="citation" data-cites="lüke2014">Lüke u.&nbsp;a. (<a href="#ref-lüke2014" role="doc-biblioref">2014</a>)</span> replizieren sowie erweitern und mich dabei auf die Textinhalte einer Online-Nachrichten- und Diskussionsseite für Lehrkräfte fokussieren, nämlich News4teachers <span class="citation" data-cites="N4T_2022">(<a href="#ref-N4T_2022" role="doc-biblioref">News4teachers 2022</a>)</span>.</p>
</section>
<section id="zielsetzung-mit-r" class="level2">
<h2 class="anchored" data-anchor-id="zielsetzung-mit-r">Zielsetzung mit R</h2>
<p>Ich möchte exemplarisch aufzeigen, wie die einzelnen Projektphasen der Medieninhaltsanalyse mit der Programmiersprache R umgesetzt werden können. Hierfür werden wir uns auf zwei wichtige Arbeitsschritte fokussieren:</p>
<ul>
<li><p><strong>Web-Scraping</strong>, also eine automatisierte Methode zum Extrahieren der Textinformationen von der Webseite News4teachers.</p></li>
<li><p><strong>Text-Mining</strong>: Die mittels Web-Scraping gesammelten Textdaten sollen mit Methoden des Text-Minings analysiert werden. Methoden des Text-Minings fokussieren sich auf die Extraktion von nützlichen Informationen aus unstrukturierten Textdaten. Unstrukturierte Textdaten sind Texte, die nicht in einer festen Datenbankstruktur vorliegen, also z.B. Textinhalte von Websiten. Mit Methoden des Text-Minings kann auch der der sentimentale Ton oder die subjektive Meinung in einem Textdokument ermittelt werden. Das Hauptziel der sogenannten Sentimentanalyse besteht darin, die in einem Textdokument geäußerten Emotionen und Ansichten bezüglich eines bestimmten Themas zu identifizieren, in unserem Fall also z.B. geäußerte Meinungen zum Thema Inklusion.</p></li>
</ul>
</section>
</section>
<section id="news4teachers-online-nachrichten--und-diskussionsseite-für-lehrkräfte" class="level1">
<h1>News4teachers: Online-Nachrichten- und Diskussionsseite für Lehrkräfte</h1>
<p>Betrachten wir zunächst das Arbeitsmaterial, also die Webinhalte der Webseite News4teachers, und die entsprechende Selbstbeschreibung der Webseite <span class="citation" data-cites="N4T_2022">(<a href="#ref-N4T_2022" role="doc-biblioref">News4teachers 2022</a>)</span>:</p>
<blockquote class="blockquote">
<p>“<strong>Wer steckt hinter News4teachers?</strong></p>
<p>News4teachers wird von einer Redaktion aus Lehrern und Journalisten betrieben. Die Seite ist ein gemeinsames Projekt von <a href="http://www.4teachers.de/">4teachers</a>, der Service-Plattform von Lehrern für Lehrer, sowie <a href="http://www.xn--agentur-fr-bildungsjournalismus-wid.de/">der Agentur für Bildungsjournalismus</a>.</p>
<p><strong>Was ist News4teachers?</strong></p>
<p>News4teachers ist eine Nachrichten- und Diskussionsseite, die sich mit seriösen Berichten, Analysen und Kommentaren an pädagogische Profis und die an Bildungsthemen interessierte Öffentlichkeit richtet. Die Redaktion sichtet täglich die Meldungen aus Politik, Forschung und Gesellschaft. Auf die Seite gelangt alles, was&nbsp;für die&nbsp;Bildung&nbsp;wichtig&nbsp;ist. News4teachers&nbsp;bietet&nbsp;also einen aktuellen Überblick über die relevanten Informationen für Lehrer, Erzieher, Schüler und Eltern. Und zwar: unabhängig und überparteilich.</p>
<p><strong>Was ist die Idee hinter News4teachers?</strong></p>
<p>News4teachers fühlt sich dem klassischen Journalismus verpflichtet. Das heißt konkret: Wir unterwerfen uns den publizistischen Grundsätzen des Deutschen Presserats, dem <a href="https://www.presserat.de/pressekodex/pressekodex/">Pressekodex</a>. Informationen, die auf die Seite gelangen,&nbsp;wurden zuvor&nbsp;von der Redaktion mit&nbsp;der gebotenen Sorgfalt geprüft. Quellen werden stets&nbsp;genannt, Meinung und Bericht voneinander getrennt. News4teachers unterliegt zudem einer Chronistenpflicht: Alles, was für die Bildungsdebatte in Deutschland von Bedeutung ist, wird aktuell&nbsp;berichtet. Regelmäßige Nutzer von News4teachers sind also immer im Bild.” <span class="citation" data-cites="N4T_2022">(<a href="#ref-N4T_2022" role="doc-biblioref">News4teachers 2022</a>)</span></p>
</blockquote>
<section id="inhalte-von-news4teachers-und-potenzielle-leserschaft-aus-lehrkräften" class="level2">
<h2 class="anchored" data-anchor-id="inhalte-von-news4teachers-und-potenzielle-leserschaft-aus-lehrkräften">Inhalte von News4teachers und potenzielle Leserschaft aus Lehrkräften</h2>
<p>News4teachers verspricht eine unabhängige und überparteiliche Berichterstattung zu Bildungsthemen, wahrscheinlich auch zum Thema Inklusion. Die Inhalte sind für die Leserschaft kostenfrei (werbefinanziertes Angebot). Die Inhalte von News4teachers sind außerdem speziell auf Lehrkräfte ausgerichtet. Somit kann angenommen werden, dass ein großer Teil der Leserschaft aus Lehrkräften besteht. Die Internetseite News4teachers hatte folgende Besucherzahlen (Jahr 2023): Mai (54000 Personen), Juni (60000 Personen) und Juli und August jeweils 55000 Personen (Zahlen ermittelt mit: <a href="https://neilpatel.com/website-traffic-checker/" class="uri">https://neilpatel.com/website-traffic-checker/</a>). Nehmen wir an, dass die Leserschaft von News4teachers zu 75% aus Lehrkräften aus Deutschland bestünde, dann hätten wir bei einer monatlichen Besucherzahl von 55000 Personen eine monatliche Leserschaft von ca. 41250 Lehrkräften (55000 * 0,75 = 41250). In Deutschland gibt es aber laut Mikrozensus 2022 rund 975000 Lehrkräfte an allgemeinbildenden Schulen. Die potenzielle News4teachers-Leserschaft aus Lehrkräften (41250 Personen) entspräche dann einem Anteil von ca. 5.64% aller Lehrkräfte an allgemeinbildenden Schulen (55000 / 975000 * 100 = 5.64%). Im dargestellten Szenario würden die Inhalte von News4teachers also pro Monat ca. 5.64% der Lehrkräfte an allgemeinbildenden Schulen in Deutschland erreichen (5 von 100 Lehrkräften lesen News4teachers). Dies sind aber nur vage Vermutungen zur Reichweite von News4teachers unter Lehrkräften an allgemeinbildenden Schulen in Deutschland, unter der Annahme, dass 75% der Leserschaft von News4teachers aus Lehrkräften bestünde.</p>
<p>News4teachers bieten der Leserschaft die Möglichkeit die Inhalte zu kommentieren und zu diskutieren (<a href="#fig-beitrag">Abbildung&nbsp;2</a> und <a href="#fig-struktur3">Abbildung&nbsp;5</a>). Hierfür formuliert die Redaktion spezifische Richtlinien <span class="citation" data-cites="N4T_2022">(<a href="#ref-N4T_2022" role="doc-biblioref">News4teachers 2022</a>)</span>:</p>
<blockquote class="blockquote">
<p>“<strong>Gibt’s Regeln für die Leserzuschriften in den Foren?</strong></p>
<p>Grundsätzlich gilt: Niemand hat einen Anspruch darauf, in den Foren zu den einzelnen Artikeln eine eigene Wortmeldung zu veröffentlichen. Die Redaktion legt Wert darauf, nur Leserzuschriften zu veröffentlichen, die erkennbar darauf abzielen, einen inhaltlichen Beitrag zur Diskussion des darüberstehenden Artikels zu leisten. Das bedeutet konkret: Auch für Leserzuschriften gelten die publizistischen Grundsätze des Deutschen Presserats, gilt also <a href="https://www.presserat.de/pressekodex/pressekodex/">der Pressekodex</a>.</p>
<p>Kurzgefasst:</p>
<ul>
<li>Wir veröffentlichen keine Leserbeiträge, in denen ungeprüfte, unbelegte oder falsche Tatsachenbehauptungen verbreitet werden.</li>
<li>Wir veröffentlichen keine Hetze gegen Menschen oder Menschengruppen.</li>
<li>Wir veröffentlichen keine Werbung, ob nun für Produkte oder Parteien.</li>
<li>Und wir veröffentlichen keine Links auf unseriöse Quellen.</li>
</ul>
<p>Wir behalten uns darüber hinaus vor, Leserbriefe, die lediglich der Stimmungsmache dienen, zu löschen. Oder Leserbriefe sinnwahrend zu kürzen.” <span class="citation" data-cites="N4T_2022">(<a href="#ref-N4T_2022" role="doc-biblioref">News4teachers 2022</a>)</span></p>
</blockquote>
<p>[Hier weitere Erläuterungen einfügen]</p>
<div id="fig-beitrag" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/beitrag.png" class="img-fluid figure-img" alt="Inhalt zum Thema Inklusion mit 152 Leserkommentaren auf der Internetseite News4teachers"></p>
<figcaption class="figure-caption">Abbildung&nbsp;2: Beitrag zum Thema Inklusion mit 152 Leserkommentaren auf der Internetseite News4teachers (Quelle: <a href="https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/" class="uri">https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/</a>)</figcaption>
</figure>
</div>
</section>
</section>
<section id="explorative-forschungsfragen" class="level1">
<h1>Explorative Forschungsfragen</h1>
<p>Die Inhalte von News4teachers und die Kommentare und Diskussionen der Leserschaft eignen sich eventuell zur Beantwortung folgender Forschungsfragen:</p>
<ul>
<li>Auf welche Art und Weise wird das Thema Inklusion auf der Online-Nachrichten- und Diskussionsseite für Lehrkräfte dargestellt?</li>
<li>Auf welche Art und Weise werden die Inhalte zum Thema Inklusion von der Leserschaft kommentiert und diskutiert?</li>
</ul>
</section>
<section id="web-scraping" class="level1">
<h1>Web-Scraping</h1>
<p>Der erste Arbeitsschritt wird nun das Web-Scraping sein, also die automatisierte Extraktion der Webinhalte (z.B. Textinformationen) von der Webseite News4teachers. Traditionellerweise bzw. altmodischerweise würde man Webinhalte mit der Methode “copy-and-paste” in einen Datensatz übertragen, also z.B. Text von einer Website kopieren und anschließend die kopierte Textinformation in einen Datensatz einfügen (z.B. bei Excel). Dieses Verfahren ist aber fehleranfällig, da z.B. aufgrund mangelnder Konzentration falsche oder unvollständige Textinhalte übertragen werden können. Web-Scraping ist daher als automatisierte Extraktion von Webinhalten die Methode der Wahl.</p>
<section id="struktur-und-inhalte-der-website" class="level2">
<h2 class="anchored" data-anchor-id="struktur-und-inhalte-der-website">Struktur und Inhalte der Website</h2>
<p>Ziel des Web-Scapings wird es sein, die relevanten Webinhalte von News4teachers automatisiert zu extrahieren. Hierfür müssen wir uns erstmal einen Überblick über die Struktur und Inhalte der Website verschaffen. Die Beiträge auf den Internetseiten von News4teachers haben eine spezifische Struktur mit spezifischen Webinhalten. Für unsere Forschungsfragen mehr oder weniger interessante Webinhalte sind in den Abbildungen kenntlich gemacht (<a href="#fig-struktur1">Abbildung&nbsp;3</a>, <a href="#fig-struktur2">Abbildung&nbsp;4</a> und <a href="#fig-struktur3">Abbildung&nbsp;5</a>).</p>
<div id="fig-struktur1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/struktur1.png" class="img-fluid figure-img" alt="Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte"></p>
<figcaption class="figure-caption">Abbildung&nbsp;3: (a) Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte (Quelle: <a href="https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/" class="uri">https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/</a>)</figcaption>
</figure>
</div>
<div id="fig-struktur2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/struktur2.png" class="img-fluid figure-img" alt="Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte"></p>
<figcaption class="figure-caption">Abbildung&nbsp;4: (b) Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte (Quelle: <a href="https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/" class="uri">https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/</a>)</figcaption>
</figure>
</div>
<div id="fig-struktur3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/struktur3.png" class="img-fluid figure-img" alt="Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte"></p>
<figcaption class="figure-caption">Abbildung&nbsp;5: (c) Beitrag auf der Internetseite News4teachers und Struktur der Webinhalte (Quelle: <a href="https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/" class="uri">https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/</a>)</figcaption>
</figure>
</div>
<p>[Erläuterungen zu den Abbildungen und Inhalten hinzufügen]</p>
</section>
<section id="erster-web-scraping-versuch" class="level2">
<h2 class="anchored" data-anchor-id="erster-web-scraping-versuch">Erster Web-Scraping-Versuch</h2>
<p>Für das Web-Scraping nutzen wir das R-Zusatzpaket <em>rvest</em>. Der Name des R-Zusatzpaketes ist eine gelungene Anspielung auf das englische Wort <em>harvest</em> (ernten, sammeln), denn wir wollen ja Informationen aus dem Internet sammeln (mit R). Das kreative Wortspiel ist auch im Logo des R-Zusatzpaketes visualisiert. Wir müssen das R-Zusatzpaket installieren und laden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rvest"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/logo.png" class="img-fluid figure-img" alt="Logo des R-Zusatzpaketes rvest"></p>
<figcaption class="figure-caption">Logo des R-Zusatzpaketes <em>rvest</em></figcaption>
</figure>
</div>
<p>Für den ersten Web-Scraping-Versuch nutzen wir den Beitrag mit dem Titel <em>“„Schämt Euch!” – Deutschland steht vor den Vereinten Nationen am Pranger, weil es die Inklusion an Schulen praktisch verweigert”</em> (<a href="#fig-struktur1">Abbildung&nbsp;3</a>). Dies ist der Link zum Beitrag:</p>
<p><a href="https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/" class="uri">https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/</a></p>
<p>Wir nutzen den Befehl <code>read_html()</code> und den entsprechenden Link, um sämtliche Informationen von der Website zu extrahieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>html <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://www.news4teachers.de/2023/08/schaemt-euch-deutschland-steht-vor-den-vereinten-nationen-am-pranger-weil-es-die-inklusion-an-schulen-verweigert/"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Alle Webinhalte sind nun im Objekt <code>html</code> hinterlegt. Wir sind allerdings nur an spezifischen Webinhalten interessiert und möchten daher im nächsten Schritt einen spezifischen Textinhalt aus dem Objekt <code>html</code> auslesen. Beginnen wir mit einem Textinhalt, welcher sich relativ leicht extrahieren lässt. Wir wollen den Titel des Beitrages extrahieren: <em>“„Schämt Euch!” – Deutschland steht vor den Vereinten Nationen am Pranger, weil es die Inklusion an Schulen praktisch verweigert”</em>. Dabei ist es gar nicht so leicht, einen spezifischen Inhalt wie den Titel zu lokalisieren und auszulesen. Hierfür ist HTML- und CSS-Grundlagenwissen hilfreich (<a href="https://www.w3schools.com/html/" class="uri">https://www.w3schools.com/html/</a>, <a href="https://www.w3schools.com/css/" class="uri">https://www.w3schools.com/css/</a>). Die eigentlichen Textinhalte sind nämlich im HTML-Dokument der Webseite hinterlegt. Ist eine Internetseite im Browser geöffnet, so gelangen wir mit einem Rechtsklick i.d.R. zur Option <em>“Seitenquelltext anzeigen”</em> (<a href="#fig-quelltext">Abbildung&nbsp;6</a>). Dies führt uns zum HTML-Dokument (<a href="#fig-html1">Abbildung&nbsp;7</a>).</p>
<div id="fig-quelltext" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/quelltext.png" class="img-fluid figure-img" alt="Seitenquelltext (HTML) anzeigen"></p>
<figcaption class="figure-caption">Abbildung&nbsp;6: Seitenquelltext (HTML) anzeigen</figcaption>
</figure>
</div>
<div id="fig-html1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="images/html1.png" class="img-fluid figure-img" alt="HTML-Dokument (Ausschnitt)"></p>
<figcaption class="figure-caption">Abbildung&nbsp;7: HTML-Dokument (Ausschnitt)</figcaption>
</figure>
</div>
<p>Das HTML-Dokument (<a href="#fig-html1">Abbildung&nbsp;7</a>) ist riesig (mehr als 10000 Zeilen) und wir müssen etwas stöbern, um den passenden Inhalt zu lokalisieren. Wir sehen z.B. in der Zeile 1297, dass der Titel des Beitrages ein <code>h1</code>-HTML-Element ist (header 1: Überschrift erster Ebene). Diese Information benötigen wir, um den Titel des Beitrags gezielt auszulesen. Hierfür nutzen wir den Befehl <code>html_elements("h1")</code> und übergeben das Objekt <code>html</code> an diesen Befehl.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>html <span class="sc">|&gt;</span> <span class="fu">html_elements</span>(<span class="st">"h1"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{xml_nodeset (1)}
[1] &lt;h1 class="entry-title"&gt;„Schämt Euch!“ – Deutschland steht vor den Verein ...</code></pre>
</div>
</div>
<p>Herzlichen Glückwunsch! 🥳 Somit haben wir erfolgreich alle Informationen von der Website extrahiert und eine relevante Textstelle (den Titel) ausgelesen.</p>
<section id="datenstruktur" class="level3">
<h3 class="anchored" data-anchor-id="datenstruktur">Datenstruktur</h3>
<p>In <a href="#fig-html1">Abbildung&nbsp;7</a> sehen wir, dass anscheinend jeder Beitrag über eine ID verfügt (<code>id="post-132285"</code>). Wenn wir in unserem zukünftigen Datensatz mehrere Beiträge abspeichern wollen, dann wird eine ID-Variable zwecks Unterscheidung der Beiträge eine hilfreiche Sache sein. <a href="#tbl-idee">Tabelle&nbsp;1</a> ist eine erste Idee bezüglich einer möglichen/sinnvollen Datenstruktur.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-idee" class="anchored">

<div class="tabwid"><style>.cl-74047106{}.cl-73faa040{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-73faa04a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-73fe5208{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-73fe6a4a{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a54{width:1.398in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a55{width:2.959in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a56{width:0.599in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a5e{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a5f{width:1.398in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a60{width:2.959in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a68{width:0.599in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a69{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a6a{width:1.398in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a72{width:2.959in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a73{width:0.599in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a74{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a7c{width:1.398in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a7d{width:2.959in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-73fe6a7e{width:0.599in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-74047106"><caption>Tabelle&nbsp;1:  <p>Erste Idee bezüglich einer möglichen/sinnvollen Datenstruktur</p> </caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-73fe6a4a"><p class="cl-73fe5208"><span class="cl-73faa040">id</span></p></th><th class="cl-73fe6a54"><p class="cl-73fe5208"><span class="cl-73faa040">datum</span></p></th><th class="cl-73fe6a55"><p class="cl-73fe5208"><span class="cl-73faa040">titel</span></p></th><th class="cl-73fe6a56"><p class="cl-73fe5208"><span class="cl-73faa040">usw.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-73fe6a5e"><p class="cl-73fe5208"><span class="cl-73faa04a">132285</span></p></td><td class="cl-73fe6a5f"><p class="cl-73fe5208"><span class="cl-73faa04a">29. August 2023</span></p></td><td class="cl-73fe6a60"><p class="cl-73fe5208"><span class="cl-73faa04a">'Schämt Euch!' -- Deutschland steht vor</span><br><span class="cl-73faa04a">den Vereinten Nationen am Pranger...</span></p></td><td class="cl-73fe6a68"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-73fe6a69"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td><td class="cl-73fe6a6a"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td><td class="cl-73fe6a72"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td><td class="cl-73fe6a73"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-73fe6a74"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td><td class="cl-73fe6a7c"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td><td class="cl-73fe6a7d"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td><td class="cl-73fe6a7e"><p class="cl-73fe5208"><span class="cl-73faa04a">...</span></p></td></tr></tbody></table></div>
</div>
</div>
</div>
<p>Um die Datenstruktur aus <a href="#tbl-idee">Tabelle&nbsp;1</a> zu realisieren, müssen wir nun die ID des Beitrags und das Erscheinungsdatum auslesen. Beginnen wir mit der ID. In Abbildung X sehen wir, das die ID (<code>id="post-132285"</code>) ein Attribut eines HTML-Elements ist (HTML-Element: <code>article</code>). Daher übergeben wir das Objekt <code>html</code> zunächst an den Befehl <code>html_elements("article")</code> und dann an den Befehl <code>html_attr("id")</code> zwecks Auslesung der ID.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>html <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_elements</span>(<span class="st">"article"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_attr</span>(<span class="st">"id"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "post-132285"</code></pre>
</div>
</div>
<p>Die ID des Beitrags erscheint mit dem Präfix <code>post-</code>. Das Präfix entfernen wir mit dem Befehl <code>str_remove("post-")</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>html <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_elements</span>(<span class="st">"article"</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_attr</span>(<span class="st">"id"</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"post-"</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 132285</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="literatur" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">Literatur</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-lüke2014" class="csl-entry" role="listitem">
Lüke, Timo, Matthias R. Hastall, Christian Marschler, und Michael Grosche. 2014. <span>„Was liest man über Inklusion?“</span> <a href="https://doi.org/10.6084/M9.FIGSHARE.1252227">https://doi.org/10.6084/M9.FIGSHARE.1252227</a>.
</div>
<div id="ref-N4T_2022" class="csl-entry" role="listitem">
News4teachers. 2022. <span>„Über uns“</span>. <em>News4teachers</em>. <a href="https://www.news4teachers.de/uber-uns/">https://www.news4teachers.de/uber-uns/</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>